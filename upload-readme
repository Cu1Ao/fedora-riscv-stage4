The stage4 disk image is built cleanly from RPMs with no broken
dependencies and only two files which are not known to RPM (/init and
/etc/yum.repos.d/local.repo, both will eventually be removed).

To boot this you will need the qemu-system-riscv from COPR:

  # dnf copr enable rjones/riscv
  # dnf install riscv-qemu riscv-pk

  $ qemu-system-riscv -m 4G -kernel /usr/bin/bbl \
      -append vmlinux \
      -drive file=stage4-disk.img,format=raw -nographic

To install packages inside the VM, use dnf, eg:

  # dnf install pcre-devel

How this won't work unless your system has networking support (not in
QEMU).  Without networking you will need to shut down the VM, download
the repository from https://fedorapeople.org/groups/risc-v/RPMS/
(eg. using a recursive 'wget'), and then copy them into the disk
image:

  $ virt-copy-in -a stage4-disk.img /your/copy/of/RPMS /var/tmp

For sources, see https://fedorapeople.org/groups/risc-v/SRPMS/

For kernel source, see
https://github.com/rwmjones/fedora-riscv-kernel

For everything else, please read:

https://fedoraproject.org/wiki/Architectures/RISC-V
